{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Motoboys(){const[motoboys,setMotoboys]=useState([]);const[nome,setNome]=useState(\"\");const[telefone,setTelefone]=useState(\"\");// Buscar motoboys do backend\nuseEffect(()=>{fetch(\"http://localhost:5000/api/motoboys\").then(res=>res.json()).then(data=>setMotoboys(data)).catch(err=>console.error(\"Erro ao carregar motoboys:\",err));},[]);const adicionarMotoboy=async e=>{e.preventDefault();try{const res=await fetch(\"http://localhost:5000/api/motoboys\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({nome,telefone})});const novo=await res.json();setMotoboys([...motoboys,novo]);setNome(\"\");setTelefone(\"\");}catch(err){console.error(\"Erro ao adicionar motoboy:\",err);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gerenciar Motoboys\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:adicionarMotoboy,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nome\",value:nome,onChange:e=>setNome(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Telefone\",value:telefone,onChange:e=>setTelefone(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Adicionar\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:motoboys.map(m=>/*#__PURE__*/_jsxs(\"li\",{children:[m.nome,\" \\u2014 \",m.telefone]},m._id))})]});}// Modelo de Pedido\nconst pedidoSchema=new mongoose.Schema({cliente:String,endereco:String,item:String,status:{type:String,default:\"pendente\"},motoboy:{type:mongoose.Schema.Types.ObjectId,ref:\"Motoboy\",default:null},criadoEm:{type:Date,default:Date.now}});const Pedido=mongoose.model(\"Pedido\",pedidoSchema);// Rotas de Pedidos\napp.get(\"/api/pedidos\",async(req,res)=>{const pedidos=await Pedido.find().populate(\"motoboy\");res.json(pedidos);});app.post(\"/api/pedidos\",async(req,res)=>{const novoPedido=new Pedido(req.body);await novoPedido.save();res.json(novoPedido);});app.put(\"/api/pedidos/:id\",async(req,res)=>{const atualizado=await Pedido.findByIdAndUpdate(req.params.id,req.body,{new:true});res.json(atualizado);});app.delete(\"/api/pedidos/:id\",async(req,res)=>{await Pedido.findByIdAndDelete(req.params.id);res.json({message:\"Pedido removido\"});});","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Motoboys","motoboys","setMotoboys","nome","setNome","telefone","setTelefone","fetch","then","res","json","data","catch","err","console","error","adicionarMotoboy","e","preventDefault","method","headers","body","JSON","stringify","novo","style","padding","children","onSubmit","type","placeholder","value","onChange","target","map","m","_id","pedidoSchema","mongoose","Schema","cliente","String","endereco","item","status","default","motoboy","Types","ObjectId","ref","criadoEm","Date","now","Pedido","model","app","get","req","pedidos","find","populate","post","novoPedido","save","put","atualizado","findByIdAndUpdate","params","id","new","delete","findByIdAndDelete","message"],"sources":["C:/Users/xsa/nono/frontended/src/Motoboys.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nexport default function Motoboys() {\r\n  const [motoboys, setMotoboys] = useState([]);\r\n  const [nome, setNome] = useState(\"\");\r\n  const [telefone, setTelefone] = useState(\"\");\r\n\r\n  // Buscar motoboys do backend\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/motoboys\")\r\n      .then(res => res.json())\r\n      .then(data => setMotoboys(data))\r\n      .catch(err => console.error(\"Erro ao carregar motoboys:\", err));\r\n  }, []);\r\n\r\n  const adicionarMotoboy = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/motoboys\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ nome, telefone }),\r\n      });\r\n      const novo = await res.json();\r\n      setMotoboys([...motoboys, novo]);\r\n      setNome(\"\");\r\n      setTelefone(\"\");\r\n    } catch (err) {\r\n      console.error(\"Erro ao adicionar motoboy:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Gerenciar Motoboys</h2>\r\n\r\n      <form onSubmit={adicionarMotoboy}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nome\"\r\n          value={nome}\r\n          onChange={(e) => setNome(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Telefone\"\r\n          value={telefone}\r\n          onChange={(e) => setTelefone(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Adicionar</button>\r\n      </form>\r\n\r\n      <ul>\r\n        {motoboys.map((m) => (\r\n          <li key={m._id}>\r\n            {m.nome} â€” {m.telefone}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Modelo de Pedido\r\nconst pedidoSchema = new mongoose.Schema({\r\n  cliente: String,\r\n  endereco: String,\r\n  item: String,\r\n  status: { type: String, default: \"pendente\" },\r\n  motoboy: { type: mongoose.Schema.Types.ObjectId, ref: \"Motoboy\", default: null },\r\n  criadoEm: { type: Date, default: Date.now }\r\n});\r\nconst Pedido = mongoose.model(\"Pedido\", pedidoSchema);\r\n\r\n// Rotas de Pedidos\r\napp.get(\"/api/pedidos\", async (req, res) => {\r\n  const pedidos = await Pedido.find().populate(\"motoboy\");\r\n  res.json(pedidos);\r\n});\r\n\r\napp.post(\"/api/pedidos\", async (req, res) => {\r\n  const novoPedido = new Pedido(req.body);\r\n  await novoPedido.save();\r\n  res.json(novoPedido);\r\n});\r\n\r\napp.put(\"/api/pedidos/:id\", async (req, res) => {\r\n  const atualizado = await Pedido.findByIdAndUpdate(req.params.id, req.body, { new: true });\r\n  res.json(atualizado);\r\n});\r\n\r\napp.delete(\"/api/pedidos/:id\", async (req, res) => {\r\n  await Pedido.findByIdAndDelete(req.params.id);\r\n  res.json({ message: \"Pedido removido\" });\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}